<h1>Patients à saisir</h1>
<div class="section-card w-100">
    <div *ngIf="showSpinner" class="spinner-border relative"></div>
    <table *ngIf="!showSpinner" class="table table-striped table-hover">
        <thead>
            <tr>
              <th scope="col">Prénom</th>
              <th scope="col">Nom</th>
              <th scope="col">Date de naissance</th>
              <th scope="col">Téléphone</th>
              <th scope="col">Mail</th>
              <th scope="col">Status</th>
            </tr>
        </thead>
        <tbody>
                <tr
                    (click)="onClick(detectionTest)"
                    [ngClass]="detectionTest.isUpdating ? 'disabled' : ''"
                    *ngFor="let detectionTest of detectionTests"
                >
                <th scope="row">{{ detectionTest.patient.firstName }}</th>
                <td>{{ detectionTest.patient.lastName }}</td>
                <td>{{ detectionTest.patient.birth }}</td>
                <td>{{ detectionTest.patient.phone }}</td>
                <td>{{ detectionTest.patient.mail }}</td>
                <td>
                    <ng-container *ngIf="detectionTest.isUpdating">
                        <span class="badge rounded-pill bg-danger text-light">
                            Modification en cours par 
                            <small>
                                {{ detectionTest.updatingBy.firstName + ' ' + detectionTest.updatingBy.lastName }}
                            </small>
                        </span>
                    </ng-container>
                    <ng-container *ngIf="!detectionTest.isUpdating">
                        <span class="badge rounded-pill bg-success">Disponbile</span>
                    </ng-container>
                </td>
            </tr>
        </tbody>
    </table>
</div>